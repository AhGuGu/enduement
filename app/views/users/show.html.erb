<h3>Welcome, <%= current_user.first_name %></h3>
<p>This is the latest update of your funds</p>
<body>

  <div id='graph' style="width:1000px;height:500px;">
    <script>
        var frames = [
          {name: 'UGGF', data: [{x: [], y: []}]},
          {name: 'TEMTECI', data: [{x: [], y: []}]},
          {name: 'Unit Trust 3', data: [{x: [], y: []}]},
        ];

        var n = 365;
        for (var i = 0; i < n; i++) {
        var t = i / (n - 1) * 2 - 1;
        // unit trust 1
        frames[0].data[0].x[i] = t * 365;
        frames[0].data[0].y[i] = t * 64.24;
        // unit trust 2
        frames[1].data[0].x[i] = t * 365;
        frames[1].data[0].y[i] = t * 19.43;

        // unit trust 3
        frames[2].data[0].x[i] = t * 0;
        frames[2].data[0].y[i] = t * 0;
        }

        Plotly.plot('graph', [{
          x: frames[0].data[0].x,
          y: frames[0].data[0].y,

          line: {simplify: false},
        }], {
          xaxis: {range: [0, 365]},
          yaxis: {range: [-100, 100]},
          updatemenus: [{
            buttons: [
            {method: 'animate', args: [['UGGF']], label: 'UGGF'},
            {method: 'animate', args: [['TEMTECI']], label: 'TEMTECI'},
            {method: 'animate', args: [['Unit Trust 3']], label: 'Unit Trust 3'}
            ]
          }]
        }).then(function() {
          Plotly.addFrames('graph', frames);
        });

    </script>
  </div>

</body>
